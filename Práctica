https://drive.google.com/drive/folders/1z2CIxdiUzasOZwX0ojJPVYZ9pVNErnXj?usp=drive_link

Consulta: Uso de variables, condicional if, funciÃ³n, procedimiento almacenado
y cursor

CREATE FUNCTION dbo.CalcularBono (@Salario DECIMAL(10,2))
RETURNS DECIMAL(10,2)
AS
BEGIN
    DECLARE @Bono DECIMAL(10,2)
    SET @Bono = @Salario * 0.10  
    RETURN @Bono
END
GO

CREATE PROCEDURE MostrarSueldoTotal
    @Nombre NVARCHAR(50),
    @Salario DECIMAL(10,2)
AS
BEGIN
    DECLARE @Bono DECIMAL(10,2)
    DECLARE @Total DECIMAL(10,2)

    SET @Bono = dbo.CalcularBono(@Salario)
    SET @Total = @Salario + @Bono

    IF @Salario > 3000
        PRINT 'El empleado gana bien y su total con bono es: ' + CAST(@Total AS NVARCHAR)
    ELSE
        PRINT 'El empleado gana poco, pero con bono suma: ' + CAST(@Total AS NVARCHAR)
END
GO

DECLARE @Nombre NVARCHAR(50)
DECLARE @Salario DECIMAL(10,2)
DECLARE cursorEmpleados CURSOR FOR
SELECT Nombre, Salario FROM Empleados

OPEN cursorEmpleados
FETCH NEXT FROM cursorEmpleados INTO @Nombre, @Salario

WHILE @@FETCH_STATUS = 0
BEGIN
    EXEC MostrarSueldoTotal @Nombre, @Salario
    FETCH NEXT FROM cursorEmpleados INTO @Nombre, @Salario
END

CLOSE cursorEmpleados
DEALLOCATE cursorEmpleados
